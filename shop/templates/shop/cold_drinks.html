{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Sets page to device width -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}"> <!-- Links page to CSS sheet -->
    <title>CoffeeRight</title> <!-- page title -->

</head>
<body>
    <nav>
        <a href="{% url 'home' %}"> <!-- Div for top navigation menu, shows all buttons and highlights active tab -->
            <img class="navimg" src="{% static 'images/CoffeeRight Logo.png' %}" alt="logo"> <!-- shows logo in navbar -->
        </a>
        <a href="{% url 'home' %}">Menu</a> <!-- nav choice -->
        <a href="{% url 'about' %}">About Us</a> <!-- nav choice -->
        <a href="{% url 'cart' %}">Shopping Cart</a> <!-- nav choice -->
    </nav>

    <div class="homeimage"></div> <!-- div allows for the coffee bean image to be displayed in CSS -->

    <div class="welcometxt">Cold Drinks</div> <!-- Text header -->

    <ul class="marker"> <!-- aesthetic orange subcategory header -->
        <li class="box">||||||||||||||||||||||||||||||||</li> <!-- orange box text -->
        <li>Categories</li> <!-- subheader text -->
    </ul>

    <div class="headertxt">Browse by Category</div> <!-- page menu nav header -->

    <ul class="categories"> <!-- navigation to each item page -->
        <li><button class="menu_btn_one" onclick="location.href='{% url 'hot_drinks' %}'">Hot Drinks</button></li> <!-- hot drinks menu page button -->
        <li><button class="menu_btn_one" onclick="location.href='{% url 'cold_drinks' %}'">Cold Drinks</button></li> <!-- cold drinks menu page button -->
        <li><button class="menu_btn_one" onclick="location.href='{% url 'food' %}'">Food</button></li> <!-- food menu page button -->
    </ul>

    <hr>

    <ul class="marker"> <!-- aesthetic orange subcategory header -->
        <li class="box">||||||||||||||||||||||||||||||||</li> <!-- orange box text -->
        <li>Drinks</li> <!-- subheader text -->
    </ul>

    <div class="headertxt">Cold Drinks:</div> <!-- text header -->

    <div class="menuitems"> <!-- div for menu items to appear -->
        <div class="inlineitems"> <!-- div to format items -->

            <div class="container"> <!-- contains individual item for formatting -->
                <div class="header"><h2>Iced Caramel Macchiato</h2></div> <!-- item name -->
                <div class="menu"> <!--div for formatting image placement  -->
                    <img src="{% static 'images/icedMacchi.webp' %}" alt="Iced Caramel Macchiato" class="foodimg1"> <!-- shows item image -->
                </div>
                <div class="price"> <!-- div for price and add to cart button formatting -->
                    <h4>Price: $7.99</h4> <!-- price text -->
                    <button class="add_to_cart_btn" data-name="Iced Caramel Macchiato" data-price="7.99">Add Item</button> <!-- add to cart button -->
                </div>
            </div>

            <div class="container"> <!-- contains individual item for formatting -->
                <div class="header"><h2>Mocha Frappuccino</h2></div> <!-- item name -->
                <div class="menu"> <!--div for formatting image placement  -->
                    <img src="{% static 'images/mochaFrappe.png' %}" alt="Mocha Frappuccino" class="foodimg2"> <!-- shows item image -->
                </div>
                <div class="price"> <!-- div for price and add to cart button formatting -->
                    <h4>Price: $8.99</h4> <!-- price text -->
                    <button class="add_to_cart_btn" data-name="Mocha Frappuccino" data-price="8.99">Add Item</button> <!-- add to cart button -->
                </div>
            </div>

            <div class="container"> <!-- contains individual item for formatting -->
                <div class="header"><h2>Vanilla Frappuccino</h2></div> <!-- item name -->
                <div class="menu"> <!--div for formatting image placement  -->
                    <img src="{% static 'images/vanillaFrappe.webp' %}" alt="Vanilla Frappuccino" class="foodimg1"> <!-- shows item image -->
                </div>
                <div class="price"> <!-- div for price and add to cart button formatting -->
                    <h4>Price: $7.99</h4> <!-- price text -->
                    <button class="add_to_cart_btn" data-name="Vanilla Frappuccino" data-price="7.99">Add Item</button> <!-- add to cart button -->
                </div>
            </div>
        </div>
    </div>

    <br><br>

    <footer> <!-- bottom page contact info banner -->
        <h3>Contact Us:</h3>
        <p><i>Email: CoffeeRight@example.com</i></p>
        <p><b>555-555-5555</b></p>
    </footer>

    <script>
        // Save item to localStorage
        document.querySelectorAll('.add_to_cart_btn').forEach(button => {
            button.addEventListener('click', function() {
                const itemName = this.getAttribute('data-name');
                const itemPrice = parseFloat(this.getAttribute('data-price'));

                let cart = JSON.parse(localStorage.getItem('cart')) || [];

                // Check if the item already exists in the cart
                const existingItem = cart.find(item => item.name === itemName);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ name: itemName, price: itemPrice, quantity: 1 });
                }

                // Save updated cart
                localStorage.setItem('cart', JSON.stringify(cart));
                alert(`${itemName} added to cart!`);
            });
        });
    </script>
</body>
</html>
