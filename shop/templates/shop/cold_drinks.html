{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <title>CoffeeRight</title>
</head>
<body>
    <nav>
        <a href="{% url 'home' %}">
            <img class="navimg" src="{% static 'images/CoffeeRight Logo.png' %}" alt="logo">
        </a>
        <a href="{% url 'home' %}">Menu</a>
        <a href="{% url 'about' %}">About Us</a>
        <a href="{% url 'cart' %}">Shopping Cart</a>
    </nav>

    <div class="homeimage"></div>

    <div class="welcometxt">Cold Drinks</div>

    <ul class="marker">
        <li class="box">||||||||||||||||||||||||||||||||</li>
        <li>Categories</li>
    </ul>

    <div class="headertxt">Browse by Category</div>

    <ul class="categories">
        <li><button class="menu_btn_one" onclick="location.href='{% url 'hot_drinks' %}'">Hot Drinks</button></li>
        <li><button class="menu_btn_one" onclick="location.href='{% url 'cold_drinks' %}'">Cold Drinks</button></li>
        <li><button class="menu_btn_one" onclick="location.href='{% url 'food' %}'">Food</button></li>
    </ul>

    <hr>

    <ul class="marker">
        <li class="box">||||||||||||||||||||||||||||||||</li>
        <li>Drinks</li>
    </ul>

    <div class="headertxt">Cold Drinks:</div>

    <div class="menuitems">
        <div class="inlineitems">
            <div class="container">
                <div class="header"><h2>Iced Caramel Macchiato</h2></div>
                <div class="menu">
                    <img src="{% static 'images/icedMacchi.webp' %}" alt="Iced Caramel Macchiato" class="foodimg1">
                </div>
                <div class="price">
                    <h4>Price: $7.99</h4>
                    <button class="add_to_cart_btn" data-name="Iced Caramel Macchiato" data-price="7.99">Add Item</button>
                </div>
            </div>

            <div class="container">
                <div class="header"><h2>Mocha Frappuccino</h2></div>
                <div class="menu">
                    <img src="{% static 'images/mochaFrappe.png' %}" alt="Mocha Frappuccino" class="foodimg2">
                </div>
                <div class="price">
                    <h4>Price: $8.99</h4>
                    <button class="add_to_cart_btn" data-name="Mocha Frappuccino" data-price="8.99">Add Item</button>
                </div>
            </div>

            <div class="container">
                <div class="header"><h2>Vanilla Frappuccino</h2></div>
                <div class="menu">
                    <img src="{% static 'images/vanillaFrappe.webp' %}" alt="Vanilla Frappuccino" class="foodimg1">
                </div>
                <div class="price">
                    <h4>Price: $7.99</h4>
                    <button class="add_to_cart_btn" data-name="Vanilla Frappuccino" data-price="7.99">Add Item</button>
                </div>
            </div>
        </div>
    </div>

    <br><br>

    <footer>
        <h3>Contact Us:</h3>
        <p><i>Email: CoffeeRight@example.com</i></p>
        <p><b>555-555-5555</b></p>
    </footer>
<!--this script makes the add to cart button work and retrieves the item info from an internal storage--!>
    <script>
        // Save item to localStorage
        document.querySelectorAll('.add_to_cart_btn').forEach(button => {
            button.addEventListener('click', function() {
                const itemName = this.getAttribute('data-name');
                const itemPrice = parseFloat(this.getAttribute('data-price'));

                let cart = JSON.parse(localStorage.getItem('cart')) || [];

                // Check if the item already exists in the cart
                const existingItem = cart.find(item => item.name === itemName);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ name: itemName, price: itemPrice, quantity: 1 });
                }

                // Save updated cart
                localStorage.setItem('cart', JSON.stringify(cart));
                alert(`${itemName} added to cart!`);
            });
        });
    </script>
</body>
</html>
